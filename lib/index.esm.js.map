{"version":3,"file":"index.esm.js","sources":["../src/main/util/common.util.ts","../src/main/client/api.client.ts","../src/main/client/endpoint.client.ts","../src/main/client/index.ts","../src/main/provider/context.provider.ts","../src/main/provider/useDefaultContext.ts","../src/main/provider/index.tsx","../src/main/client/type.client.ts","../src/main/jest-mock/index.ts"],"sourcesContent":["/**\n * Deep copy an object using JSON.\n * @param obj - The object to be deep copied.\n * @returns A deep copy of the input object.\n */\nexport const deepCopy = <T>(obj: T): T => JSON.parse(JSON.stringify(obj));\n\n/**\n * Asynchronous sleep function using Promises.\n * @param milliseconds - The duration to sleep in milliseconds.\n * @returns A Promise that resolves after the specified duration.\n */\nexport const sleep = (milliseconds: number) => new Promise((resolve) => setTimeout(resolve, milliseconds));\n\n/**\n * Map an array of objects to a Record using a specific key.\n * @param array - The array of objects to be mapped.\n * @returns A Record where keys are extracted from the 'key' property of each object.\n */\nexport const mapArrayToRecord = <T extends { key: string }>(array: T[]): Record<string, T> => {\n  return Object.fromEntries(array.map((item) => [item.key, item]));\n};\n\n/**\n * Create a promise with a timeout.\n * @param promise - The original promise to be wrapped with a timeout.\n * @param timeout - The timeout duration in milliseconds.\n * @returns A Promise that resolves when the original promise resolves or rejects with a timeout error.\n */\nexport const withTimeout = <T>(promise: Promise<T>, timeout: number): Promise<T> => {\n  const timeoutPromise = new Promise<T>((_, reject) =>\n    setTimeout(() => reject(new Error('Operation timed out')), timeout),\n  );\n  return Promise.race([promise, timeoutPromise]);\n};\n/**\n * Convert snakecase object to camelcase object.\n * @param obj - The original object.\n * @returns A Promise that return camel object.\n */\nexport const snakeToCamel = (obj: any): any => {\n  if (obj === null || typeof obj !== 'object') {\n    return obj;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map(snakeToCamel);\n  }\n\n  return Object.keys(obj).reduce((acc: any, key: string) => {\n    const camelKey = key.replace(/_([a-z])/g, (_, letter) => letter.toUpperCase());\n    acc[camelKey] = snakeToCamel(obj[key]);\n    return acc;\n  }, {});\n};\n\n/**\n * Add records to another records\n * @param firstObject - The first records object.\n * @param secondObject  _ the second records object.\n */\nexport const areObjectsEqual = (firstObject?: Record<string, any>, secondObject?: Record<string, any>): boolean => {\n  if(!firstObject || !secondObject) return false\n  // Check if the number of keys are equal\n  const keys1 = Object.keys(firstObject);\n  const keys2 = Object.keys(secondObject);\n  if (keys1.length !== keys2.length) {\n      return false;\n  }\n\n  // Check if each key-value pair matches\n  for (const key of keys1) {\n      // Check if the key exists in both objects\n      if (!(key in secondObject)) {\n          return false;\n      }\n\n      // Check if the values are equal\n      const value1 = firstObject[key];\n      const value2 = secondObject[key];\n      if (value1 !== value2) {\n          // If the values are objects, recursively check them\n          if (typeof value1 === 'object' && typeof value2 === 'object') {\n              if (!areObjectsEqual(value1, value2)) {\n                  return false;\n              }\n          } else {\n              return false;\n          }\n      }\n  }\n\n  return true;\n}\n","import { snakeToCamel } from '@/util';\nimport { ApiRequestOptions, ApiResponse, ConfigClient } from '@/client/type.client';\n\nexport class ApiClient {\n  readonly apiKey: string;\n  readonly baseUrl: string;\n  static readonly API_KEY_HEADER = 'X-NUM-API-KEY';\n\n  constructor(config: ConfigClient) {\n    this.apiKey = config.apiKey;\n    this.baseUrl = config.baseUrl || 'https://service-platform.numerator.io'; //'https://api.numerator.io/v1';\n  }\n\n  async request<T>(apiRequestOptions: ApiRequestOptions): Promise<ApiResponse<T>> {\n    const { method, endpoint, data, headers: headerRequest } = apiRequestOptions;\n    const url = `${this.baseUrl}/${endpoint}`;\n    const headers = {\n      'Content-Type': 'application/json',\n      [ApiClient.API_KEY_HEADER]: this.apiKey,\n      ...headerRequest,\n    };\n\n    try {\n      const response = await fetch(url, {\n        method,\n        headers,\n        body: JSON.stringify(data),\n      });\n\n      // Handle 304 Not Modified response\n      if (response.status === 304) {\n        return {};\n      }\n\n      // Check if the request was successful\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const jsonData = await response.json();\n      return { data: snakeToCamel(jsonData), error: undefined, headers: response.headers };\n    } catch (error: Error | any) {\n      return { data: undefined, error };\n    }\n  }\n}\n\nexport default ApiClient;\n","const END_POINT_BASE = 'api/v1/sdk/feature-flag';\n\n// Get all feature flags config associated with the project\nexport const END_POINT_FEATURE_FLAG_CONFIG_LISTING = `${END_POINT_BASE}/listing`;\n\n// Get the config of a feature flag by key\nexport const END_POINT_FEATURE_FLAG_CONFIG_BY_KEY = `${END_POINT_BASE}/detail-by-key`;\n\n// Get the value of the feature flag by key\nexport const END_POINT_FEATURE_FLAG_VALUE_BY_KEY = `${END_POINT_BASE}/by-key`;\n\n// Get the value of flag collection by context\nexport const END_POINT_FEATURE_FLAG_COLLECTION_POLLING = `${END_POINT_BASE}/polling`;\n","import { ApiClient } from '@/client/api.client';\nimport {\n  END_POINT_FEATURE_FLAG_COLLECTION_POLLING,\n  END_POINT_FEATURE_FLAG_CONFIG_BY_KEY,\n  END_POINT_FEATURE_FLAG_CONFIG_LISTING,\n  END_POINT_FEATURE_FLAG_VALUE_BY_KEY,\n} from '@/client/endpoint.client';\nimport {\n  ConfigClient,\n  ErrorResponse,\n  FeatureFlagConfig,\n  FeatureFlagConfigListingRequest,\n  FeatureFlagConfigListingResponse,\n  FeatureFlagPollingResponse,\n  FeatureFlagValueByKeyRequest,\n  FlagCollection,\n  FlagVariationValue,\n} from '@/client/type.client';\n\nexport class NumeratorClient {\n  private apiClient: ApiClient;\n\n  constructor(config: ConfigClient) {\n    this.apiClient = new ApiClient(config);\n  }\n\n  handleFeatureFlagNotFound = (): Promise<never> => {\n    return Promise.reject({\n      message: 'Feature Flag not found',\n      errorCode: 'FEATURE_FLAG_NOT_FOUND',\n      errorStatus: 404,\n    } as ErrorResponse);\n  };\n\n  async featureFlagConfigListing(request?: FeatureFlagConfigListingRequest): Promise<FeatureFlagConfigListingResponse> {\n    try {\n      const response = await this.apiClient.request<FeatureFlagConfigListingResponse>({\n        method: 'POST',\n        endpoint: END_POINT_FEATURE_FLAG_CONFIG_LISTING,\n        data: request || {},\n      });\n\n      if (response.error) {\n        console.warn('Error fetching featureFlagConfigListing due to: [', response.error, ']');\n        return Promise.reject(response.error as ErrorResponse);\n      }\n\n      return response.data || { count: 0, data: [] };\n    } catch (error: any) {\n      console.warn('Error fetching featureFlagConfigListing due to: [', error, ']');\n      return Promise.reject(error);\n    }\n  }\n\n  async allFeatureFlagsConfig(): Promise<FeatureFlagConfig[]> {\n    try {\n      let page = 0;\n      const size = 200;\n      let allConfigs: FeatureFlagConfig[] = [];\n      let configListingRes: FeatureFlagConfigListingResponse;\n\n      do {\n        configListingRes = await this.featureFlagConfigListing({\n          page: page++,\n          size: size,\n        });\n\n        allConfigs = allConfigs.concat(configListingRes.data);\n      } while (allConfigs.length < configListingRes.count);\n\n      return allConfigs;\n    } catch (error) {\n      console.error('Error fetching allFeatureFlagsConfig due to:', error);\n      throw error;\n    }\n  }\n\n  async featureFlagConfigByKey(key: string): Promise<FeatureFlagConfig> {\n    try {\n      const url = `${END_POINT_FEATURE_FLAG_CONFIG_BY_KEY}?key=${key}`;\n      const response = await this.apiClient.request<FeatureFlagConfig>({\n        method: 'GET',\n        endpoint: url,\n      });\n\n      if (response.error) {\n        console.warn('Error fetching featureFlagConfigByKey due to: [', response.error, ']');\n        return Promise.reject(response.error as ErrorResponse);\n      }\n\n      if (!response.data) {\n        return this.handleFeatureFlagNotFound();\n      }\n\n      return response.data;\n    } catch (error: any) {\n      console.warn('Error fetching featureFlagConfigByKey due to: [', error, ']');\n      return Promise.reject(error);\n    }\n  }\n\n  async getFeatureFlagByKey<T>(request: FeatureFlagValueByKeyRequest): Promise<FlagVariationValue> {\n    try {\n      const response = await this.apiClient.request<FlagVariationValue>({\n        method: 'POST',\n        endpoint: END_POINT_FEATURE_FLAG_VALUE_BY_KEY,\n        data: request,\n      });\n      if (response.error) {\n        console.warn('Error fetching featureFlagValueByKey due to: [', response.error, ']');\n        return Promise.reject(response.error as ErrorResponse);\n      }\n\n      if (!response.data) {\n        return this.handleFeatureFlagNotFound();\n      }\n\n      return response.data;\n    } catch (error: any) {\n      console.warn('Error fetching featureFlagValueByKey due to: [', error, ']');\n      return Promise.reject(error);\n    }\n  }\n\n  async fetchPollingFlag(context: Record<string, any>, eTag?: string | undefined): Promise<FeatureFlagPollingResponse> {\n    try {\n      const headers = !!eTag ? { 'If-None-Match': eTag } : {};\n      const response = await this.apiClient.request<{ flags: FlagCollection[] }>({\n        method: 'POST',\n        headers: headers,\n        endpoint: END_POINT_FEATURE_FLAG_COLLECTION_POLLING,\n        data: { context },\n      });\n\n      if (response.error) {\n        console.warn('Error fetching featureFlagCollectionPolling due to: [', response.error, ']');\n        return Promise.reject(response.error as ErrorResponse);\n      }\n\n      return { flags: response.data?.flags, etag: response.headers.get('ETag') };\n    } catch (error: any) {\n      console.warn('Error fetching featureFlagCollectionPolling due to: [', error, ']');\n      return Promise.reject(error);\n    }\n  }\n}\n\nexport default NumeratorClient;\n","import { createContext } from 'react';\nimport { NumeratorContextType } from '@/provider/type.provider';\n\n// Create a context for the SDK\nexport const NumeratorContext = createContext<NumeratorContextType | undefined>(undefined);\n","export function useDefaultContext(context: Record<string, any>, setContext: React.Dispatch<React.SetStateAction<Record<string, any>>>) {\n\n    const getDefaultContext = (): Record<string, any> => {\n        return context\n      }\n    \n      const clearDefaultContext = () => {\n        setContext({})\n      }\n    \n      const addDefaultContextValue = (key:string, value: any) => {\n        const updatedContext = {...context}\n        updatedContext[key] = value\n        setContext(updatedContext)\n      }\n    \n      const removeDefaultContextValue = (key:string) => {\n        const updatedContext = {...context}\n        delete updatedContext[key]\n      setContext(updatedContext)\n      }\n\n      return {\n        getDefaultContext,\n        clearDefaultContext,\n        addDefaultContextValue,\n        removeDefaultContextValue\n      }\n}","import React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nimport NumeratorClient from '@/client';\nimport {\n  ConfigClient,\n  FeatureFlagConfig,\n  FlagCollection,\n  FlagEvaluationDetail,\n  FlagVariationValue,\n} from '@/client/type.client';\nimport { areObjectsEqual } from '@/util';\nimport { NumeratorContext } from '@/provider/context.provider';\nimport {\n  FlagUpdatedCallback,\n  FlagUpdatedErrorCallback,\n  NumeratorContextType,\n  NumeratorProviderProps,\n} from '@/provider/type.provider';\nimport { useDefaultContext } from '@/provider/useDefaultContext';\n\nconst POLLING_INTERVAL = 30000; // 30 seconds\n\nconst initializeNumeratorClient = (configClient: ConfigClient): NumeratorClient => {\n  const numeratorClient: NumeratorClient = new NumeratorClient({\n    apiKey: configClient.apiKey,\n    baseUrl: configClient.baseUrl || 'https://service-platform.numerator.io',\n    pollingInterval: configClient.pollingInterval || POLLING_INTERVAL,\n  });\n\n  return numeratorClient;\n};\n\n// Create a provider component\nexport const NumeratorProvider: React.FC<NumeratorProviderProps> = ({\n  children,\n  configClient,\n  defaultContext,\n  loadPolling = true,\n}) => {\n  // Initialize the SDK client\n  const numeratorClient: NumeratorClient = initializeNumeratorClient(configClient);\n  const [cacheFlags, setCacheFlags] = useState<Record<string, FlagCollection>>({});\n  const [flags, setFlags] = useState<Record<string, any>>({});\n  const [defaultContextValues, setDefaultContextValues] = useState(defaultContext);\n  const [currentEtag, setCurrentEtag] = useState<string>();\n  const [isPolling, setIsPolling] = useState(loadPolling);\n  const [updateListeners, setUpdateListeners] = useState<FlagUpdatedCallback[]>([]);\n  const [errorListeners, setErrorListeners] = useState<FlagUpdatedErrorCallback[]>([]);\n\n  const fetchPollingFeatureFlag = useCallback(async () => {\n    try {\n      const result = await numeratorClient.fetchPollingFlag(defaultContextValues, currentEtag);\n      if (result.flags) {\n        // 200 OK\n        setCurrentEtag(result.etag);\n        const newCache = result.flags.reduce(\n          (acc, flag) => {\n            acc[flag.key] = flag;\n            return acc;\n          },\n          {} as Record<string, any>,\n        );\n        setCacheFlags(newCache);\n        updateListeners.forEach((listener) => listener(newCache)); // Notify all update listeners\n      } else {\n        // 304 NOT MODIFIED\n        updateListeners.forEach((listener) => listener(cacheFlags)); // Notify all update listeners\n      }\n    } catch (error) {\n      errorListeners.forEach((listener) => listener(cacheFlags, error)); // Notify all error listeners\n    }\n  }, [numeratorClient, defaultContextValues, currentEtag, updateListeners, errorListeners]);\n\n  const flagValueByKey = async (key: string, context: Record<string, any> | undefined): Promise<FlagVariationValue> => {\n    const result = await numeratorClient.getFeatureFlagByKey({ key, context });\n    return result;\n  };\n\n  const featureFlags = async (): Promise<FeatureFlagConfig[]> => {\n    const allFlagsConfig = await numeratorClient.allFeatureFlagsConfig();\n    return allFlagsConfig;\n  };\n\n  const booleanFlagVariationDetail = async (\n    key: string,\n    defaultVal: boolean,\n    context: Record<string, any> | undefined = undefined,\n    useDefaultContext: boolean = true,\n  ): Promise<FlagEvaluationDetail<boolean>> => {\n    try {\n      const requestContext = context ?? (useDefaultContext ? defaultContext : {});\n      const variation = await flagValueByKey(key, requestContext);\n      return {\n        key: key,\n        value: variation.value.booleanValue ?? false,\n        reason: {},\n      };\n    } catch (e) {\n      return {\n        key: key,\n        value: defaultVal,\n        reason: {},\n      };\n    }\n  };\n\n  const numberFlagVariationDetail = async (\n    key: string,\n    defaultVal: number,\n    context: Record<string, any> | undefined = undefined,\n    useDefaultContext: boolean = true,\n  ): Promise<FlagEvaluationDetail<number>> => {\n    try {\n      const requestContext = context ?? (useDefaultContext ? defaultContext : {});\n      const variation = await flagValueByKey(key, requestContext);\n      return {\n        key: key,\n        value: variation.value.longValue ?? variation.value.doubleValue ?? 0,\n        reason: {},\n      };\n    } catch (e) {\n      return {\n        key: key,\n        value: defaultVal,\n        reason: {},\n      };\n    }\n  };\n\n  const stringFlagVariationDetail = async (\n    key: string,\n    defaultVal: string,\n    context: Record<string, any> | undefined = undefined,\n    useDefaultContext: boolean = true,\n  ): Promise<FlagEvaluationDetail<string>> => {\n    try {\n      const requestContext = context ?? (useDefaultContext ? defaultContext : {});\n      const variation = await flagValueByKey(key, requestContext);\n      return {\n        key: key,\n        value: variation.value.stringValue ?? '',\n        reason: {},\n      };\n    } catch (e) {\n      return {\n        key: key,\n        value: defaultVal,\n        reason: {},\n      };\n    }\n  };\n\n  const initFeatureFlag = (key: string, defaultVal: any) => {\n    setFlags((prevFlags) => ({\n      ...prevFlags,\n      [key]: defaultVal,\n    }));\n  };\n\n  const getFeatureFlag = async (\n    key: string,\n    defaultVal: any,\n    context: Record<string, any> | undefined = undefined,\n    useDefaultContext: boolean = true,\n  ): Promise<any> => {\n    const defaultValue = flags[key];\n    const hasCacheValue = !!context && cacheFlags.hasOwnProperty(key) && areObjectsEqual(context, defaultContext);\n    switch (typeof defaultVal) {\n      case 'boolean':\n        if (hasCacheValue) {\n          return (cacheFlags[key].value.booleanValue as boolean) ?? defaultValue;\n        }\n        const resBoolean = await booleanFlagVariationDetail(key, defaultVal, context, useDefaultContext);\n        return resBoolean.value as boolean;\n      case 'number':\n        if (hasCacheValue) {\n          return cacheFlags[key].value.longValue ?? (cacheFlags[key].value.doubleValue as number) ?? defaultValue;\n        }\n        const resNumber = await numberFlagVariationDetail(key, defaultVal, context, useDefaultContext);\n        return resNumber.value as number;\n\n      case 'string':\n        if (hasCacheValue) {\n          return (cacheFlags[key].value.stringValue as string) ?? defaultValue;\n        }\n        const resString = await stringFlagVariationDetail(key, defaultVal, context, useDefaultContext);\n        return resString.value as string;\n      default:\n        throw Error('Unsupported flag type');\n    }\n  };\n\n  const { getDefaultContext, clearDefaultContext, addDefaultContextValue, removeDefaultContextValue } =\n    useDefaultContext(defaultContextValues, setDefaultContextValues);\n\n  const startPolling = () => {\n    setIsPolling(true);\n  };\n\n  const stopPolling = () => {\n    setIsPolling(false);\n    setCacheFlags({});\n  };\n\n  const restartPolling = useCallback(() => {\n    stopPolling();\n    startPolling();\n  }, [stopPolling, startPolling]);\n\n  // Register and unregister update listeners\n  const handleFlagUpdated = useCallback((callback: FlagUpdatedCallback) => {\n    setUpdateListeners((prev) => [...prev, callback]);\n    return () => setUpdateListeners((prev) => prev.filter((c) => c !== callback));\n  }, []);\n\n  // Register and unregister error listeners\n  const handleFlagUpdatedError = useCallback((callback: FlagUpdatedErrorCallback) => {\n    setErrorListeners((prev) => [...prev, callback]);\n    return () => setErrorListeners((prev) => prev.filter((c) => c !== callback));\n  }, []);\n\n  useEffect(() => {\n    let timeIntervalId: any;\n\n    if (isPolling) {\n      timeIntervalId = setInterval(fetchPollingFeatureFlag, configClient.pollingInterval || POLLING_INTERVAL);\n    } else {\n      clearInterval(timeIntervalId);\n    }\n\n    return () => clearInterval(timeIntervalId);\n  }, [isPolling, fetchPollingFeatureFlag]);\n\n  // Create an object with SDK methods and state to be shared\n  const sdkContextValue: NumeratorContextType = useMemo(\n    () => ({\n      featureFlags,\n      flagValueByKey,\n      booleanFlagVariationDetail,\n      numberFlagVariationDetail,\n      stringFlagVariationDetail,\n      initFeatureFlag,\n      getFeatureFlag,\n      getDefaultContext,\n      clearDefaultContext,\n      addDefaultContextValue,\n      removeDefaultContextValue,\n      startPolling,\n      stopPolling,\n      restartPolling,\n      fetchPollingFeatureFlag,\n      handleFlagUpdated,\n      handleFlagUpdatedError,\n      cacheFlags,\n      isPolling: isPolling,\n    }),\n    [cacheFlags, isPolling],\n  );\n\n  return <NumeratorContext.Provider value={sdkContextValue}>{children}</NumeratorContext.Provider>;\n};\n\n// Custom hook to access the SDK context value\nexport const useNumeratorContext = () => {\n  const context = useContext(NumeratorContext);\n  if (!context) {\n    throw new Error('NumeratorClient must be used within a NumeratorProvider');\n  }\n  return context;\n};\n","// --- Types for ConfigClient --- //\nexport type ConfigClient = {\n  apiKey: string;\n  baseUrl?: string;\n  pollingInterval?: number;\n};\n\n// --- Types for ApiClient --- //\nexport interface ErrorResponse {\n  message: string;\n  errorCode: string;\n  errorStatus: number;\n}\n\nexport interface ApiResponse<T> {\n  data?: T;\n  error?: ErrorResponse | any;\n  headers?: any;\n}\n\nexport interface ApiRequestOptions {\n  endpoint: string;\n  method: string;\n  headers?: Record<string, any>;\n  data?: Record<string, any>;\n\n}\n\nexport interface ApiClientInterface {\n  apiKey: string;\n  baseUrl: string;\n\n  request<T>(apiRequestOptions: ApiRequestOptions): Promise<ApiResponse<T>>;\n}\n\n// --- Types for Request/ Response --- //\nexport interface PaginationRequest {\n  page?: number;\n  size?: number;\n}\n\nexport interface PaginationResponse<T> {\n  count: number;\n  data: T[];\n}\n\nexport interface FeatureFlagConfigListingRequest extends PaginationRequest {\n  page?: number;\n  size?: number;\n}\n\nexport interface FeatureFlagValueByKeyRequest {\n  key: string;\n  context?: Record<string, any>;\n}\n\nexport interface FeatureFlagConfigListingResponse extends PaginationResponse<FeatureFlagConfig> {\n  count: number;\n  data: FeatureFlagConfig[];\n}\n\nexport interface FeatureFlagPollingResponse {\n  flags: FlagCollection[] | undefined,\n  etag: string\n}\n// --- Types for Feature Flag --- //\nexport type VariationKeyType = 'stringValue' | 'booleanValue' | 'longValue' | 'doubleValue';\n\nexport enum FlagStatusEnum {\n  ON = 'ON',\n  OFF = 'OFF',\n}\n\nexport enum FlagValueTypeEnum {\n  BOOLEAN = 'BOOLEAN',\n  STRING = 'STRING',\n  LONG = 'LONG',\n  DOUBLE = 'DOUBLE',\n}\n\nexport interface FeatureFlagConfig {\n  id: string;\n  name: string;\n  key: string;\n  organizationId: string;\n  projectId: string;\n  status: FlagStatusEnum;\n  description?: string | null;\n  defaultOnVariationId: string;\n  defaultOffVariationId: string;\n  valueType: FlagValueTypeEnum;\n  createdAt: Date;\n}\n\nexport interface FlagVariationValue {\n  key: string;\n  status: FlagStatusEnum;\n  value: VariationValue;\n  valueType: FlagValueTypeEnum;\n}\n\nexport interface VariationValue {\n  stringValue?: string;\n  booleanValue?: boolean;\n  longValue?: number;\n  doubleValue?: number;\n}\n\nexport interface FlagEvaluationDetail<T> {\n  key: string,\n  value: T,\n  reason: Record<string, any> | null\n}\n\nexport interface FlagCollection {\n  key: string,\n  value: VariationValue,\n  valueType: FlagValueTypeEnum,\n}\n","import { ConfigClient } from '@/client/type.client';\nimport { areObjectsEqual } from '@/util';\n\n// Mock flags\ninterface MockFlag {\n  key: string;\n  value: any;\n  context?: Record<string, any>;\n}\nlet mockedFlags: MockFlag[] = [];\n\n/**\n * Sets the mocked feature flags to the provided array of flags. \n * If a flag's context is not provided, it defaults to an empty object.\n *\n * @param flags An array of MockFlag objects representing the feature flags to be mocked.\n */\nconst mockFlags = (flags: MockFlag[]) => {\n  flags.forEach((flag) => {\n    if (!flag.context) {\n      flag.context = {}; // Set context to an empty object if it's undefined\n    }\n  });\n  mockedFlags = flags;\n};\n\n/**\n * Adds a mocked feature flag to the list of mocked flags.\n * If the flag's context is not provided, it defaults to an empty object.\n *\n * @param flag The MockFlag object representing the feature flag to be added.\n */\nconst addMockedFlag = (flag: MockFlag) => {\n  if (!flag.context) {\n    flag.context = {}; // Set context to an empty object if it's undefined\n  }\n  mockedFlags.push(flag);\n};\n\n/**\n * Removes a mocked feature flag with the specified key and context from the list of mocked flags.\n * If no context is provided, it removes the flag regardless of its context.\n *\n * @param key The key of the feature flag to be removed.\n * @param context (Optional) The context of the feature flag to be removed.\n */\nconst removeMockedFlag = (key: string, context?: Record<string, any>) => {\n  mockedFlags = context\n    ? mockedFlags.filter((flag) => !(flag.key === key && areObjectsEqual(flag.context, context)))\n    : mockedFlags.filter((flag) => flag.key !== key);\n};\n\nexport interface MockNumeratorProviderProps {\n  configClient?: ConfigClient;\n  defaultContext?: Record<string, any>;\n  loadPolling?: boolean;\n}\n\n// Mock NumeratorProvider\nconst useMockNumeratorProvider = (props: MockNumeratorProviderProps = {}) => {\n  let cacheFlags: Record<string, any> = {};\n  let defaultContext = props.defaultContext ?? {};\n\n  // Define base mock implementations for booleanFlagVariationDetail, numberFlagVariationDetail, and stringFlagVariationDetail\n  const flagVariationDetail = jest.fn(async (key, defaultVal, context?, useDefaultContext = true): Promise<any> => {\n    const requestContext = context ?? (useDefaultContext ? defaultContext : {});\n    const variation = mockedFlags.find((flag) => flag.key === key && areObjectsEqual(flag.context, requestContext));\n    if (variation) {\n      return {\n        key: key,\n        value: variation.value,\n        reason: {},\n      };\n    }\n    return {\n      key: key,\n      value: defaultVal,\n      reason: {},\n    };\n  });\n\n  // Define mock implementation for getFeatureFlag\n  const getFeatureFlag = jest.fn(async (key, defaultVal, context?, useDefaultContext = true): Promise<any> => {\n    const hasCacheValue = !!context && cacheFlags.hasOwnProperty(key) && areObjectsEqual(context, props.defaultContext);\n    switch (typeof defaultVal) {\n      case 'boolean':\n        if (hasCacheValue) {\n          return cacheFlags[key].value.booleanValue as boolean;\n        }\n        const resBoolean = await flagVariationDetail(key, defaultVal, context, useDefaultContext);\n        return resBoolean.value as boolean;\n      case 'number':\n        if (hasCacheValue) {\n          return cacheFlags[key].value.longValue ?? (cacheFlags[key].value.doubleValue as number);\n        }\n        const resNumber = await flagVariationDetail(key, defaultVal, context, useDefaultContext);\n        return resNumber.value as number;\n      case 'string':\n        if (hasCacheValue) {\n          return cacheFlags[key].value.stringValue as string;\n        }\n        const resString = await flagVariationDetail(key, defaultVal, context, useDefaultContext);\n        return resString.value as string;\n      default:\n        throw new Error('Unsupported flag type');\n    }\n  });\n  return {\n    /**\n     * Retrieve the feature flag value, working the same as the function provided in useNumeratorContext.\n     *\n     * @param key The key of the feature flag.\n     * @param defaultVal The default value to return if the feature flag is not found.\n     * @param context (Optional) The context for the feature flag.\n     * @param useDefaultContext (Optional) Specifies whether to use the default context if no context is provided. Defaults to true.\n     */\n    getFeatureFlag,\n    /**\n     * Retrieve the feature flag type BOOLEAN, working the same as the function provided in useNumeratorContext.\n     *\n     * @param key The key of the feature flag.\n     * @param defaultVal The default value to return if the feature flag is not found.\n     * @param context (Optional) The context for the feature flag.\n     * @param useDefaultContext (Optional) Specifies whether to use the default context if no context is provided. Defaults to true.\n     */\n    booleanFlagVariationDetail: flagVariationDetail,\n    /**\n     * Retrieve the feature flag type NUMBER (LONG or DOUBLE), working the same as the function provided in useNumeratorContext.\n     *\n     * @param key The key of the feature flag.\n     * @param defaultVal The default value to return if the feature flag is not found.\n     * @param context (Optional) The context for the feature flag.\n     * @param useDefaultContext (Optional) Specifies whether to use the default context if no context is provided. Defaults to true.\n     */\n    numberFlagVariationDetail: flagVariationDetail,\n    /**\n     * Retrieve the feature flag type STRING, working the same as the function provided in useNumeratorContext.\n     *\n     * @param key The key of the feature flag.\n     * @param defaultVal The default value to return if the feature flag is not found.\n     * @param context (Optional) The context for the feature flag.\n     * @param useDefaultContext (Optional) Specifies whether to use the default context if no context is provided. Defaults to true.\n     */\n    stringFlagVariationDetail: flagVariationDetail,\n    /**\n     * Retrieve the default context, working the same as the function provided in useNumeratorContext.\n     */\n    getDefaultContext: jest.fn(() => defaultContext),\n    /**\n     * Clear default context, working the same as the function provided in useNumeratorContext.\n     */\n    clearDefaultContext: jest.fn(() => (defaultContext = {})),\n    /**\n     * Add another default context, working the same as the function provided in useNumeratorContext.\n     */\n    addDefaultContextValue: jest.fn((key, value) => (defaultContext = { ...defaultContext, [key]: value })),\n    /**\n     * Remove an existing default context, working the same as the function provided in useNumeratorContext.\n     */\n    removeDefaultContextValue: jest.fn((key) => {\n      const { [key]: _, ...newDefaultContext } = defaultContext;\n      defaultContext = newDefaultContext;\n    }),\n    /**\n     * Update cache flags for faster retrieval of flag with default context, working the same as the function provided in useNumeratorContext.\n     */\n    fetchPollingFeatureFlag: jest.fn(async () => {\n      const result = mockedFlags.filter((flag) => areObjectsEqual(flag.context, defaultContext));\n      const newCache: Record<string, any> = {};\n      result.forEach((flag) => {\n        newCache[flag.key] = flag;\n      });\n      cacheFlags = newCache;\n    }),\n    /**\n     * Currently not supported, but you might define on your own.\n     */\n    initFeatureFlag: jest.fn(),\n    /**\n     * Currently not supported, but you might define on your own.\n     */\n    featureFlags: jest.fn(),\n    /**\n     * Currently not supported, but you might define on your own.\n     */\n    flagValueByKey: jest.fn(),\n    /**\n     * Currently not supported, but you might define on your own.\n     */\n    startPolling: jest.fn(),\n    /**\n     * Currently not supported, but you might define on your own.\n     */\n    stopPolling: jest.fn(),\n    /**\n     * Currently not supported, but you might define on your own.\n     */\n    restartPolling: jest.fn(),\n    /**\n     * Currently not supported, but you might define on your own.\n     */\n    handleFlagUpdated: jest.fn(),\n    /**\n     * Currently not supported, but you might define on your own.\n     */\n    handleFlagUpdatedError: jest.fn(),\n    /**\n     * Current cache flags.\n     */\n    cacheFlags: cacheFlags,\n  };\n};\n\n/**\n * Resets the mocked flags array and mocks for NumeratorProvider.\n * \n * It clears the mockedFlags array and resets all mocked functions provided by useMockNumeratorProvider.\n */\nconst resetNumeratorMocks = () => {\n  // Reset mockedFlags array\n  mockedFlags = [];\n\n  // Reset mocks for NumeratorProvider\n  const mockProvider = useMockNumeratorProvider();\n  Object.values(mockProvider).forEach((mockFn) => {\n    if (typeof mockFn.mock !== 'undefined') {\n      mockFn.mockReset();\n    }\n  });\n};\n\n\nexport { mockFlags, addMockedFlag, removeMockedFlag, useMockNumeratorProvider, resetNumeratorMocks };\n"],"names":["_jsx"],"mappings":"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"}